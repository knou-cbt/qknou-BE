### REST Client API 테스트 파일
### 각 요청 위의 "Send Request" 버튼을 클릭하거나 Ctrl+Alt+R (Mac: Cmd+Alt+R)로 실행

@baseUrl = http://localhost:3000
@contentType = application/json

### ============================================
### Subjects API
### ============================================

### 1. 과목 목록 조회 (전체)
GET {{baseUrl}}/api/subjects

### 2. 과목 목록 조회 (검색)
GET {{baseUrl}}/api/subjects?search=경영

### 3. 과목 목록 조회 (페이지네이션)
GET {{baseUrl}}/api/subjects?page=1&limit=5

### 4. 과목 목록 조회 (검색 + 페이지네이션)
GET {{baseUrl}}/api/subjects?search=경영&page=1&limit=10

### 5. 특정 과목 상세 조회
GET {{baseUrl}}/api/subjects/1

### 6. 존재하지 않는 과목 조회 (404 테스트)
GET {{baseUrl}}/api/subjects/99999

### ============================================
### Exams API
### ============================================

### 7. 특정 과목의 시험지 목록 조회
GET {{baseUrl}}/api/subjects/2/exams

### 8. 특정 과목의 시험지 목록 조회 (존재하지 않는 과목)
GET {{baseUrl}}/api/subjects/99999/exams

### 9. 시험 문제 조회 (study 모드 - 정답 포함)
GET {{baseUrl}}/api/exams/1/questions?mode=study

### 10. 시험 문제 조회 (test 모드 - 정답 미포함)
GET {{baseUrl}}/api/exams/1/questions?mode=test

### 11. 시험 문제 조회 (mode 생략 - 기본값 test)
GET {{baseUrl}}/api/exams/1/questions

### 12. 시험 문제 조회 - 페이지네이션 (5개씩, 첫 페이지)
GET {{baseUrl}}/api/exams/1/questions?page=1&limit=5

### 13. 시험 문제 조회 - 페이지네이션 (5개씩, 2페이지)
GET {{baseUrl}}/api/exams/1/questions?page=2&limit=5

### 14. 시험 문제 조회 - 페이지네이션 (10개씩, 첫 페이지)
GET {{baseUrl}}/api/exams/1/questions?page=1&limit=10

### 15. 시험 문제 조회 - 페이지네이션 + study 모드 (정답 포함)
GET {{baseUrl}}/api/exams/1/questions?mode=study&page=1&limit=5

### 16. 시험 문제 조회 - 페이지네이션 (마지막 페이지)
GET {{baseUrl}}/api/exams/1/questions?page=7&limit=5

### 17. 존재하지 않는 시험 문제 조회 (404 테스트)
GET {{baseUrl}}/api/exams/99999/questions

### 18. 시험 답안 제출 (정상 케이스)
POST {{baseUrl}}/api/exams/1/submit
Content-Type: {{contentType}}

{
  "answers": [
    {
      "questionId": 1,
      "selectedAnswer": 2
    },
    {
      "questionId": 2,
      "selectedAnswer": 1
    },
    {
      "questionId": 3,
      "selectedAnswer": 4
    }
  ]
}

### 19. 시험 답안 제출 (일부 문제만 제출)
POST {{baseUrl}}/api/exams/2/submit
Content-Type: {{contentType}}

{
  "answers": [
    {
      "questionId": 1,
      "selectedAnswer": 1
    }
  ]
}

### 20. 시험 답안 제출 (빈 배열 - 400 에러 테스트)
POST {{baseUrl}}/api/exams/25/questions?mode=test
Content-Type: {{contentType}}

{
  "answers": []
}

### 21. 시험 답안 제출 (잘못된 형식 - selectedAnswer 범위 초과)
POST {{baseUrl}}/api/exams/25/questions?mode=test
Content-Type: {{contentType}}

{
  "answers": [
    {
      "questionId": 1,
      "selectedAnswer": 5
    }
  ]
}

### 22. 존재하지 않는 시험 답안 제출 (404 테스트)
POST {{baseUrl}}/api/exams/99999/submit
Content-Type: {{contentType}}

{
  "answers": [
    {
      "questionId": 1,
      "selectedAnswer": 1
    }
  ]
}

### ============================================
### Health Check & Performance API
### ============================================

### 23. Health Check (서버 상태)
GET {{baseUrl}}/api/health

### 24. Performance 측정
GET {{baseUrl}}/api/health/performance

### 25. DB 연결 상태
GET {{baseUrl}}/api/health/db

### ============================================
### Departments API
### ============================================

### 26. 학과 목록 조회 (전체)
GET {{baseUrl}}/api/departments

### 27. 특정 학과의 과목 목록 조회
GET {{baseUrl}}/api/departments/1/subjects

### 28. 특정 학과의 과목 목록 조회 (다른 학과)
GET {{baseUrl}}/api/departments/2/subjects

### 29. 존재하지 않는 학과의 과목 목록 조회 (404 테스트)
GET {{baseUrl}}/api/departments/99999/subjects

### ============================================
### Auth API (OAuth & JWT)
### ============================================

### 30. 구글 로그인 (브라우저에서만 가능)
# 브라우저에서 아래 URL 접속:
# http://localhost:3000/auth/google
# 로그인 후 URL에서 token 파라미터 복사하여 아래 @token 변수에 붙여넣기

### 31. 카카오 로그인 (브라우저에서만 가능)
# 브라우저에서 아래 URL 접속:
# http://localhost:3000/auth/kakao
# 로그인 후 URL에서 token 파라미터 복사하여 아래 @token 변수에 붙여넣기

### JWT 토큰 설정 (로그인 후 받은 토큰을 여기에 붙여넣기)
@token = your-jwt-token-here

### 32. JWT 인증 테스트 - 현재 사용자 정보 조회 (인증 필요)
GET {{baseUrl}}/auth/me
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI5MmMyZmQxOC0yOTczLTQzZDUtYWYyNy1lOGE3MTU2OTM0MTciLCJlbWFpbCI6ImpzNzEyMjQyMEBnbWFpbC5jb20iLCJpYXQiOjE3Njk0MTE3NDMsImV4cCI6MTc3MDAxNjU0M30.iCpaoIBM0pdXP6W24zu7qqYGCqeGWs4BV9VciuYjilM

### 33. JWT 인증 실패 테스트 - 토큰 없이 요청
GET {{baseUrl}}/auth/me

### 34. JWT 인증 실패 테스트 - 잘못된 토큰
GET {{baseUrl}}/auth/me
Authorization: Bearer invalid-token-here

### ============================================
### 테스트 순서 가이드
### ============================================
# 1. 브라우저에서 http://localhost:3000/auth/google 접속
# 2. 구글 로그인 완료
# 3. 리다이렉트된 URL에서 token 파라미터 복사
#    예: http://localhost:3001/auth/success?token=eyJhbG...
# 4. 위의 @token 변수에 붙여넣기
# 5. 테스트 32번 실행 → 성공하면 사용자 정보 반환
# 6. 테스트 33, 34번 실행 → 401 Unauthorized 에러 확인